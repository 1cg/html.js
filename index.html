<html lang="en">
<head>
    <title>HTML: The Programming Language</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        body {
            font-family: Verdana,sans-serif;
            max-width: 768px;
            margin: auto;
            padding: 16px 16px 800px;
        }
        pre {
            background-color: bisque;
            padding: 16px 16px 0;
            border-radius: 8px;
            overflow: auto;
            margin:24px;
            border: 3px solid dimgray;
        }
        main {
            border: 1px solid black;
            padding: 16px;
            margin: 16px;
        }
        p {
            margin: 16px;
            line-height: 1.8em;
        }
        aside {
            margin: 24px;
            font-style: italic;
        }
        code {
            color: forestgreen;
            font-weight: bold;
        }
    </style>
    <script src="html.js"></script>
    <script>
        html.meta.debug = function(hdb, elt, env)
        {
            // you can set a JavaScript breakpoint here
            hdb.break();
        }
    </script>
</head>
<body>
<header>
    <h1>
        HTML, The Programming Language <br/>
        <small>A Programming Language</small>
    </h1>
    <nav>
        <center>
            <a href=".">Documentation</a> &Or;
            <a href="./test.html">Tests</a> &Or;
            <a href="./html.js">html.js</a> (<a href="./html.js" download="">download</a>) &Or;
            <a href="https://htmx-shop.fourthwall.com/products/html-pl-btw-shirt">t-shirt</a> &Or;
            <a href="./LICENSE.txt">LICENSE</a>
        </center>
    </nav>
</header>
<section>
    <h2 id="intro"><a href="#intro">Introduction</a></h2>
    <p>
        HTML, the programming language, is a practical, <a href="https://en.wikipedia.org/wiki/Turing_completeness">turing-complete</a><a href="#turning-complete">[1]</a>,
        <a href="https://en.wikipedia.org/wiki/Stack-oriented_programming">stack-based</a> programming language based on <a href="https://en.wikipedia.org/wiki/HTML">HTML</a>,
        the markup language. It uses <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element">elements
        defined in HTML</a>, the markup language, in order to do computations.
    </p>
    <p>
        To give you a sense of what HTML, the programming langauge, looks like, below is a sample program that prints
        the values from 1 to 10 to standard out (<code>console.log</code>)
    </p>

    <figure>
        <figcaption>A Sample HTML Program</figcaption>
        <pre>
&lt;data value="1">&lt;/data>      &lt;!-- push 1 onto the stack -->
&lt;output id="loop">&lt;/output>  &lt;!-- print the top of the stack -->
&lt;data value="1">&lt;/data>      &lt;!-- push 1 onto the stack -->
&lt;dd>&lt;/dd>                    &lt;!-- add 1 -->
&lt;dt>&lt;/dt>                    &lt;!-- dup new value -->
&lt;data value="11">&lt;/data>     &lt;!-- push 11 to compare -->
&lt;small>&lt;/small>                  &lt;!-- test new value is smaller than 11 -->
&lt;i>                          &lt;!-- if bigger than zero pushed true -->
    &lt;a href="#loop">&lt;/a>     &lt;!-- then jump back to the loop -->
&lt;/i>
    </pre>
    </figure>

    <p>
        HTML programs are specified in HTML, the markup language. Elements from HTML, the markup language, (informally
        referred to as "tags") are interpreted as <i>commands</i> by the HTML interpreter. Note that HTML programs
        are <em>not</em> required to be legal <a href="https://en.wikipedia.org/wiki/HTML5">HTML5</a>, the markup
        language, documents.
    </p>
    <p>
        HTML is a <a href="#extending">fully customizable</a> programming language and you may add new
        commands or alter existing commands by mutating the <code>html.meta.commands</code> object.
    </p>
</section>

<section>
    <h2 id="installation"><a href="#installation">Installation</a></h2>
    <p>
        To install HTML, the programming language, <a href="html.js" download>download</a> and include the
        <code>html.js</code> file via a script tag:
    </p>
    <pre>
&lt;script src="html.js">&lt;/script>
    </pre>
    <p>
        You may now begin programming in HTML.
    </p>
</section>

<section>
    <h2 id="getting-started"><a href="#getting-started">Getting Started</a></h2>
    <p>
        To get started with HTML, the programming language, you must first understand how a
        <i>stack-oriented</i> programming language works. In a stack-oriented programming language, most operations are
        done with reference to a <i>stack</i> of values.
    </p>
    <p>
        In HTML, this is referred to as <i>the value stack</i> or, informally, as "the stack".  In HTML, the stack is
        maintained in the current <em>execution frame</em> (either the main HTML program or within a function defined in HTML),
        rather than as a global stack, as in
        <a href="https://en.wikipedia.org/wiki/Forth_(programming_language)">forth-like</a> languages. (In this regard,
        HTML, the programming language, is <a href="https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.6">similar to the JVM</a>.)
    </p>
    <p>
        Stack-oriented programming can seem strange to developers who have not worked with it before, so let's begin
        with a simple "Hello World" program in HTML:
    </p>
    <pre>
&lt;main>
  &lt;s>Hello World!&lt;/s>     &lt;!-- push 'Hello World!' onto the stack -->
  &lt;output>&lt;/output>       &lt;!-- print the top of the stack -->
&lt/main>
 </pre>
    <p>
        The first thing to note is that in HTML a program is defined in a <code>&lt;main></code> tag.
    </p>
    <p>
        The next thing to notice is that the program consists of a series of HTML tags within the <code>&lt;main></code> tag.
        For the "Hello World" program, the first command is a <code>&lt;s></code> tag.  This will <a href="#strings">"push"
        the string value <code>"Hello World!"</code></a> onto the stack.
    </p>
    <p>
        The next command is the <code>&lt;output></code> tag.  This will <a href="#output">output the top of the
       value stack to standard out</a>, which is <code>console.log</code>.
    </p>
    <p>
        (Note that the <code>output</code> tag <b>does not</b> consume the top of the value stack.)
    </p>
    <p>
        A more elaborate example of using the value stack would be adding 2 and 3, like so:
    </p>
    <pre>
&lt;main>
  &lt;data value="2">&lt;/data>     &lt;!-- push 2 onto the stack -->
  &lt;data value="3">&lt;/data>     &lt;!-- push 3 onto the stack -->
  &lt;dd>&lt;/dd>                   &lt;!-- add the top two values on the stack -->
  &lt;output>&lt;/output>           &lt;!-- print the sum now on the top of the stack -->
&lt/main>
    </pre>
    <p>
        In this HTML program, we push the values 2 and 3 onto the value stack <a href="#numbers">using <code>&lt;data></code> tags</a>, and
        then invoke the <code>dd</code> command to <a href="#addition">"a(dd)" the top two values on the stack</a> .
        The <code>&lt;dd></code> command will "pop", or remove, the top two values of the value stack, add
        them together, and then "push" the result onto the top of the value stack. Next, we print the result out
        using the <code>output</code> tag.
    </p>
    <p>
        In a stack-oriented language like HTML, this is how things are done: pushing and popping values on the
        stack in order to do computations.
    </p>
    <p>
        With that brief introduction out of the way, let's go over the entire language so you can add HTML, the
        programming language, to your resume.
    </p>
</section>

<section>
    <h2 id="comments"><a href="#comments">Comments</a></h2>
    <p>
        HTML uses HTML's normal comment mechanism for comments:
    </p>
    <pre>
&lt;!-- This is a comment -->
    </pre>
</section>

<section>
    <h2 id="literals"><a href="#literals">Literal Values</a></h2>
    <p>
        HTML supports many different literals that can be used to push values onto the value stack.
    </p>

    <h3 id="numbers"><a href="#numbers">Numbers</a></h3>
    <p>
        Numbers can be pushed onto  the value stack using the <code>&lt;data></code> tag:
    </p>
    <pre>
&lt;!-- this pushes the numeric value 1 onto the value stack -->
&lt;data value="1">&lt;/data>
    </pre>

    <h3 id="strings"><a href="#strings">Strings</a></h3>
    <p>
        Strings can be pushed onto  the value stack using the <code>&lt;s></code> tag.  The inner content
        of the tag will be treated as a string.
    </p>
    <pre>
&lt;!-- this pushes the string "Hello Strings!" onto the value stack -->
&lt;s>Hello Strings!&lt;/s>
    </pre>

    <h3 id="arrays"><a href="#arrays">Arrays</a></h3>
    <p>
        Arrays can be pushed onto  the value stack using the <code>&lt;ol></code> tag, containing <code>&lt;li></code>
        elements.  The child elements of the <code>&lt;li></code> will be executed and the top value of the stack
        after they are evaluated will be inserted into the array.  If there are excess values on the value stack
        after an <code>&lt;li></code> has executed its children, they will be removed.
    </p>
    <pre>
&lt;!-- this pushes the array [1, 2] onto the stack -->
&lt;ol>
    &lt;li>
        &lt;data value="1">&lt;/data>
    &lt;/li>
    &lt;li>
        &lt;data value="2">&lt;/data>
    &lt;/li>
&lt;/ol>
    </pre>

    <h3 id="objects"><a href="#objects">Objects</a></h3>
    <p>
        Objects can be pushed onto  the value stack using the <code>&lt;table></code> tag, containing <code>&lt;th></code>
        and <code>&lt;td></code>elements.  <code>&lt;th></code> elements will be used as property names, using the
        innerText of the elements.  The child elements of the <code>&lt;td></code> will be executed and the top value of
        the stack after they are evaluated will be used as the value for the corresponding <code>&lt;th></code> .  If
        there are excess values on the value stack after a <code>&lt;td></code> has executed its children, they will be
        removed.
    </p>
    <pre>
&lt;!-- this pushes the object {foo:"Foo", bar:10} onto the stack -->
&lt;table>
    &lt;tr>
        &lt;th>
          foo
        &lt;/th>
        &lt;th>
          bar
        &lt;/th>
    &lt;/tr>
    &lt;tr>
        &lt;td>
          &lt;s>Foo&lt;/s>
        &lt;/td>
        &lt;td>
            &lt;data value="10">&lt;/data>
        &lt;/td>
    &lt;/tr>
&lt;/table>
    </pre>

    <h3 id="true"><a href="#true">true, false & null</a></h3>
    <p>
        The values <code>true</code>, <code>false</code> and <code>null</code> can all be accessed with the
        <code>&lt;cite></code> command.  These are defined as <a href="#variables">variables</a> at the start of every
        new activation frame (aka scope).  Note that it is possible to override these variables with different values,
        such as setting <code>null</code> to <code>"lmao"</code>, but that we do not recommend doing so in most cases.
    </p>
    <pre>
&lt;!-- this pushes true onto the stack -->
&lt;cite>true&lt;/cite>
    </pre>

</section>

<section>
    <h2 id="math"><a href="#math">Math</a></h2>
    <p>
        HTML offers support for common mathematical operators, utilizing the value stack.
    </p>

    <h3 id="addition"><a href="#addition">Addition</a></h3>
    <p>
        Addition can be performed with the <code>&lt;dd></code> (a<b>dd</b>) tag.  This tag will pop the top
        two values off the value stack, add the top value to the second to the top value, and
        then push the result back onto the value stack.
    </p>
    <pre>
&lt;data value="2">&lt;/data>
&lt;data value="1">&lt;/data>
&lt;!-- this dd tag will add 1 to 2 and push the result onto
        the value stack -->
&lt;dd>&lt;/dd>
    </pre>
    <p>
        Note that addition can also be used for string concatenation, as in JavaScript.
    </p>

    <h3 id="subtraction"><a href="#subtraction">Subtraction</a></h3>
    <p>
        Subtraction can be performed with the <code>&lt;sub></code> tag.  This tag will pop the top
        two values off the value stack, subtracting the top value from the second to the top value, and
        then push the result back onto the value stack.
    </p>
    <pre>
&lt;data value="2">&lt;/data>
&lt;data value="1">&lt;/data>
&lt;!-- this sub tag will subtract 1 from 2 and push the result onto
        the value stack -->
&lt;sub>&lt;/sub>
    </pre>

    <h3 id="multiplication"><a href="#multiplication">Multiplication</a></h3>
    <p>
        Multiplication can be performed with the <code>&lt;ul></code> (m<b>ul</b>) tag.  This tag will pop the top
        two values off the value stack, multiply the top value by the second to the top value, and
        then push the product back onto the value stack.
    </p>
    <pre>
&lt;data value="2">&lt;/data>
&lt;data value="3">&lt;/data>
&lt;!-- this ul tag will multiply 2 to 3 and push the result onto
        the value stack -->
&lt;ul>&lt;/ul>
    </pre>

    <h3 id="division"><a href="#division">Division</a></h3>
    <p>
        Division can be performed with the <code>&lt;div></code> tag.  This tag will pop the top
        two values off the value stack, divide the second to the top value by the top value, and
        then push the result back onto the value stack.
    </p>
    <pre>
&lt;data value="6">&lt;/data>
&lt;data value="3">&lt;/data>
&lt;!-- this div tag will divide 6 by 3 and push the result onto
        the value stack -->
&lt;div>&lt;/div>
    </pre>

</section>

<section>
    <h2 id="stack"><a href="#stack">Stack Operations</a></h2>
    <p>
        HTML offers commands for direct manipulation the stack.
    </p>

    <h3 id="duplicate"><a href="#duplicate">Duplicate</a></h3>
    <p>
        You can duplicate the value on the top of the stack using the <code>&lt;dt></code> (duplicate top) tag.  This
        is useful in cases where you want to use a value more than once for operations that would consume the value, such
        as <a href="#if">an if/else</a> situation.
    </p>
    <pre>
&lt;data value="1">&lt;/data>
&lt;!-- this will push a second 1 onto the top of
        the value stack -->
&lt;dt>&lt;/dt>
    </pre>

    <h3 id="delete"><a href="#delete">Delete</a></h3>
    <p>
        You can delete/pop the value on the top of the stack using the <code>&lt;del></code> tag.

    </p>
    <pre>
&lt;data value="1">&lt;/data>
&lt;!-- this will remove the 1 on the top of the stack -->
&lt;del>&lt;/del>
    </pre>

</section>

<section>
    <h2 id="comparison"><a href="#comparison">Comparison Operations</a></h2>
    <p>
        In HTML, comparisons such as less than, equal, etc. are done on the value stack.  Comparison
        commands compare two values and leave a boolean on the top of the value stack, which can then
        be used with the <a href="#if">"if" command</a> to do conditional execution.
    </p>

    <h3 id="smaller"><a href="#smaller">Less Than</a></h3>
    <p>
        You can test if a value is smaller than another value by using the <code>&lt;small></code>
        tag.  This will pop the top two values off the value stack and push true second to top value
        is smaller (<) than the top value, false otherwise.
    </p>
    <pre>
&lt;data value="1">&lt;/data>
&lt;data value="2">&lt;/data>
&lt;!-- this will push true onto the stack, since 1 is smaller than 2 -->
&lt;small>&lt;/small>
    </pre>

    <h3 id="big"><a href="#big">Greater Than</a></h3>
    <p>
        You can test if a value is smaller than another value by using the <code>&lt;big></code>
        tag.  This will pop the top two values off the value stack and push true second to top value
        is larger (>) than the top value, false otherwise.
    </p>
    <pre>
&lt;data value="1">&lt;/data>
&lt;data value="2">&lt;/data>
&lt;!-- this will push false onto the stack, since 1 is not bigger than 2 -->
&lt;big>&lt;/big>
    </pre>

    <h3 id="eq"><a href="#eq">Equal (Mostly)</a></h3>
    <p>
        You can test if a value is equal (mostly) than another value by using the <code>&lt;em></code>
        tag.  This will pop the top two values off the value stack and push true second to top value
        is equal (==) than the top value, false otherwise.
    </p>
    <p>
        Note that we say "equal (mostly)" because the equality operator in JavaScript (which HTML, the programming language,
        is implemented in) has
        <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Equality">interesting</a>
        semantics.
    </p>
    <pre>
&lt;s>1&lt;/s>
&lt;data value="1">&lt;/data>
&lt;!-- this will push true onto the stack, since "1" is equal to 1 -->
&lt;em>&lt;/em>
    </pre>

</section>

<section>
    <h2 id="logical"><a href="#logical">Logical Operations</a></h2>
    <p>
        As with comparisons in HTML, logical operations such as <code>and</code>, <code>or</code>, etc. are done on the value stack.
        Logical operations apply to values on the value stack and will leave a boolean on the top of the value stack.
    </p>
    <p>
        All logical operators start with a "b" for "boolean", to make things easier to remember.
    </p>
    <p>
        Note that HTML, the programming language, follows JavaScript, the programming language's (sic)
        semantics regarding <a href="https://developer.mozilla.org/en-US/docs/Glossary/Truthy"> "truthiness"</a>.
    </p>

    <h3 id="and"><a href="#and">And</a></h3>
    <p>
        You can logically "and" the top two values on the value stack using the <code>&lt;b></code>
        command.  This will pop the top two values off the stack and push the result of them being "anded"
        together.
    </p>
    <pre>
&lt;cite>true&lt;/cite>
&lt;data value="1">&lt;/data>
&lt;!-- this will push true onto the stack, since true && 1 is true -->
&lt;b>&lt;/b>
    </pre>

    <h3 id="or"><a href="#or">Or</a></h3>
    <p>
        You can logically "or" the top two values on the value stack using the <code>&lt;bdo></code>
        command.  This will pop the top two values off the stack and push the result of them being "ord"
        together.
    </p>
    <pre>
&lt;cite>true&lt;/cite>
&lt;cite>false&lt;/cite>
&lt;!-- this will push true onto the stack, since true || false is true -->
&lt;bdo>&lt;/bdo>
    </pre>

    <h3 id="invert"><a href="#invert">Invert/Not</a></h3>
    <p>
        You can invert the top value on the value stack using the <code>&lt;bdi></code>
        command.  This will pop the top value off the stack and push the result of it being inverted (<code>true</code>
        becomes <code>false</code>, <code>false</code> becomes <code>true</code>).
    </p>
    <pre>
&lt;cite>false&lt;/cite>
&lt;!-- this will push true onto the stack, since !false is true -->
&lt;bdi>&lt;/bdi>
    </pre>

</section>

<section>
    <h2 id="control-flow"><a href="#control-flow">Control Flow</a></h2>
    <p>
        HTML, the programming language, provides three mechanisms for control flow.  While these mechanisms may seem primitive,
        the can be used to implement any sort of arbitrary control flow pattern you would like.
    </p>

    <h3 id="if"><a href="#if">If (Conditional Execution)</a></h3>
    <p>
        Conditional execution can be achieved by using the <code>&lt;i></code> (if) tag/command.
        This command will pop the top value off the value stack, and, if it is "truthy", will execute
        all children commands/tags defined inside of it.
    </p>
    <pre>
&lt;data value="1">&lt;/data>
&lt;data value="1">&lt;/data>
&lt;!-- test if 1 is equal to 1 -->
&lt;em>&lt;/em>
&lt;!-- Since true is on the stack, the child tags/commands will execute here -->
&lt;i>
  &lt;s>Yep, 1 == 1&lt;/s>
  &lt;output>&lt;/output>
&lt;/i>
    </pre>
    <p>
        If you wish to achieve and if/else like flow, you can conveniently <a href="#duplicate">duplicate</a> the boolean
        on the top of the stack, use an <code>&lt;i/></code> to test the first case (which will consume the top boolean)
        and then invert the boolean using <a href="#invert"><code>&lt;bdi></code> </a> and test again using <code>&lt;i></code>.
    </p>
    <p>
        This gives you a clean and easy to use "if/else" style statement:
    </p>
    <pre>
&lt;data value="1">&lt;/data>
&lt;data value="2">&lt;/data>
&lt;!-- test if 1 is equal to 1 -->
&lt;em>&lt;/em>
&lt;!-- duplicate the result (false) -->
&lt;dt>&lt;/dt>
&lt;!-- Since false is on the stack, the child tags/commands will not execute here -->
&lt;i>
  &lt;s>Yep, 1 == 2&lt;/s>
  &lt;output>&lt;.output>
  &lt;!-- remove the string from the top of the stack to be clean -->
  &lt;del>&lt;/del>
&lt;/i>
&lt;!-- The second copy of false is at the top of the stack, so invert it to true -->
&lt;bdi>&lt;/bdi>
&lt;i>
  &lt;s>Nope, 1 == 2 isn't true, even in JavaScript&lt;/s>
  &lt;output>&lt;.output>
&lt;/i>
    </pre>

    <h3 id="return"><a href="#return">Returning</a></h3>
    <p>
        If you wish to return from <a href="#functions">a function</a> (discussed below) or simply terminate the execution of
        a program, you may use the <code>&lt;rt></code> tag.  This will immediately stop execution in the
        current context and either return from a function or halt the execution of a program.
    </p>
    <pre>
&lt;s>This will print...&lt;/s>
&lt;output>&lt;/output>
&lt;rt>&lt;/rt>
&lt;s>This will not print...&lt;/s>
&lt;output>&lt;/output>
    </pre>

    <h3 id="branching"><a href="#branching">Branching</a></h3>
    <p>
        To execute arbitrary jumps in an HTML, the programming language, you use the anchor tag: <code>&lt;a></code>,
        by setting the <code>href</code> attribute to the id of the command you wish to jump to.  This allows you
        to implement things like loops, and can be coupled with conditional execution via the <code>&lt;i></code>
        tag to implement powerful control flow patterns.
    </p>
    <p>
        Here is a loop that will print from 1 to 10:
    </p>
    <pre>
&lt;data value="1">&lt;/data>      &lt;!-- push 1 onto the stack -->
&lt;output id="loop">&lt;/output>  &lt;!-- print the top of the stack -->
&lt;data value="1">&lt;/data>      &lt;!-- push 1 onto the stack -->
&lt;dd>&lt;/dd>                    &lt;!-- add 1 to the original value -->
&lt;dt>&lt;/dt>                    &lt;!-- dup new value -->
&lt;data value="11">&lt;/data>     &lt;!-- push 11 to compare -->
&lt;small>&lt;/small>              &lt;!-- test new value is smaller than 11 -->
&lt;i>                          &lt;!-- if smaller than 11 pushed true -->
    &lt;a href="#loop">&lt;/a>     &lt;!-- then jump back to the loop -->
&lt;/i>
    </pre>
    <p>
        The crux here is the anchor tag that references the <code>&lt;output></code> tag with the id
        <code>loop</code>.  When this anchor tag is executed it will send control back to that element
        to continue in the next iteration of the loop.
    </p>
    <p>
        Note that this jump back to the beginning of the loop is conditional on the top of the stack being
        less than 11.  Thus you can see that powerful control flow patterns can be created out of these primitive
        branching mechanisms.
    </p>
    <aside>
        We are aware of the <a href="https://homepages.cwi.nl/~storm/teaching/reader/Dijkstra68.pdf"> criticisms of GOTO</a>,
        which, given a superficial understanding of the anchor tag in HTML, the programming language, may come
        to mind for some programmers (mainly juniors). A full response to this criticism is beyond the scope of this document,
        but, in summary: you are wrong.
    </aside>
</section>

<section>
    <h2 id="variables"><a href="#variables">Variables</a></h2>
    <p>
        Variables in HTML, the programming language, are always "local" to the current context.  Global variables,
        defined in <code>window</code> can be resolved by name, but cannot be written to.  (You must use a property
        access on the <code>window</code> object to do that).
    </p>
    <p>
        Note that the values <code>true</code>, <code>false</code> and <code>null</code> are defined as variables
        and can be overwritten.  Again, we do not recommend this practice, but we are not judgy about it either.
    </p>

    <h3 id="cite"><a href="#cite">Referencing Variables</a></h3>
    <p>
        You push a variable onto the top of the value stack by using the <code>&lt;cite></code> tag.  This will resolve
        the variable against the local scope first, and then against <code>window</code>, allowing you to load globally
        scoped variables.
    </p>
    <pre>
&lt;!-- this will push true onto the stack, since
        true is a variable with the value true -->
&lt;cite>true&lt;/cite>
&lt;output>&lt;/output>
    </pre>

    <h3 id="var"><a href="#var">Declaring & Setting a Variable</a></h3>
    <p>
        You declare or set (same thing) a variable using the <code>&lt;var></code>
        tag.  This will pop the top value off the stack and save it into the variable slot with the
        name taken from the <code>title</code> attribute of the variable.
    </p>
    <pre>
&lt;!-- push 1 onto the value stack -->
&lt;data value="1">&lt;/data>
&lt;!-- this creates a locally scoped variable
        named 'x' with the value 1 in it -->
&lt;var title="x">&lt;/var>
    </pre>
    <p>
        Again, declaring and assigning variables in HTML, the programming language, is the same thing, so you may
        have multiple <code>&lt;var></code> tags that refer to the same variable name.
    </p>
</section>

<section>
    <h2 id="io"><a href="#io">I/O</a></h2>
    <p>
        It's a little late in the game, since we've been using <code>&lt;output></code> a bunch already, but HTML, the programming language,
        supports simple I/O operations.  Of course, HTML, the programming language, can interact with the DOM using
        <a href="#functions">functions</a> in order to do I/O as well, but simple I/O can be accomplished directly in
        the language itself.
    </p>

    <h3 id="output"><a href="#output">Outputting Values</a></h3>
    <p>
        You can output the top of the stack by using the <code>&lt;output></code> tag.  This will <em>not</em> consume
        the value.
    </p>
    <p>
        By default the value will be printed to standard out (<code>console.log</code>).  You may change this by
        setting the <code>html.meta.out</code> configuration variable to another value.
    </p>
    <pre>
&lt;!-- this will print "Hello World!" to standard out -->
&lt;s>Hello World!&lt;/s>
&lt;output>&lt;/output>
    </pre>

    <h3 id="input"><a href="#input">Getting User Input</a></h3>
    <p>
        Of course you can use the DOM to get user input if you would like.  But you can also use the <code>&lt;input></code>
        tag to get user input.
    </p>
    <p>
        This tag will prompt the user for input using the <code>prompt()</code> method in JavaScript.  The message
        shown to the user will be taken from the <code>placeholder</code> attribute.
    </p>
    <p>
        If you wish to ask for a number, rather than a string, from the user, you can set the <code>type</code> attribute
        of the <code>&lt;input></code> to <code>number</code>.
    </p>
    <p>
        The result of the prompt will be pushed onto the top of the value stack.
    </p>
    <pre>
&lt;!-- this will ask the user for their name, then say hello in the console -->
&lt;input placeholder="What is your name?"/>
&lt;var title="name">&lt;/var>
&lt;s>Nice to meet you,&lt;/s>
&lt;cite>name&lt;/cite>
&lt;dd>&lt;/dd>
&lt;output>&lt;/output>
    </pre>
</section>

<section>
    <h2 id="properties"><a href="#properties">Working With Object Properties</a></h2>
    <p>
        You can both read and write the properties of objects in HTML, the programming language.
    </p>

    <h3 id="reading-props"><a href="#reading-props">Reading Properties</a></h3>
    <p>
        You can read a property of the value on the top of the stack by using the <code>&lt;rp></code> (read property)
        tag.  The name of the property read will be the inner text of the tag.  This will consume the element the property is being
        read on, so duplicate the top of the stack if you wish to preserve it.
    </p>
    <pre>
&lt;!-- load the document onto the stack -->
&lt;cite>document&lt;/cite>
&lt;!-- load the body property onto the stack -->
&lt;rp>body&lt;/rp>
    </pre>

    <h3 id="setting-props"><a href="#setting-props">Setting Properties</a></h3>
    <p>
        You can set a property of an object using the <code>&lt;samp></code> (set am property)
        tag.  The name of the property to set will be the inner text of the tag.  The value to set into the property
        must be on the top of the stack, and the object to set the property of must be second from the top of the stack.
    </p>
    <p>
        Both the value being set into the object and the object will be consumed from the value stack.
    </p>
    <pre>
&lt;!-- load the document onto the stack -->
&lt;cite>document&lt;/cite>
&lt;!-- load the body property onto the stack -->
&lt;cite>body&lt;/cite>
&lt;!-- push "Hello World!" onto the stack -->
&lt;s>Hello World!&lt;/s>
&lt;!-- set the innerHTML property of the body to "Hello World!" -->
&lt;samp>innerHTML&lt;/samp>
    </pre>

</section>

<section>
    <h2 id="array-access"><a href="#array-access">Working With Arrays</a></h2>
    <p>
        You can both read and write to indices in arrays in HTML, the programming language.
    </p>

    <h3 id="reading-arrays"><a href="#reading-arrays">Reading An Array Value</a></h3>
    <p>
        You can read the value at an index in an array <code>&lt;address></code>tag.  This command will
        consume the top value of the value stack as the index to read from, and the second value from the
        top of the stack as the array to read the index from.
    </p>
    <p>
        Note that this tag can also be used to reflectively access properties, by putting a string on the
        top of the stack rather than an integer.
    </p>
    <pre>
&lt;!-- this pushes the array [42, 33] onto the stack -->
&lt;ol>
    &lt;li>
        &lt;data value="42">&lt;/data>
    &lt;/li>
    &lt;li>
        &lt;data value="33">&lt;/data>
    &lt;/li>
&lt;/ol>
&lt;!-- push the value 0 onto the stack -->
&lt;data value="0">&lt;/data>
&lt;!-- consumes the 0 and the array, indexes into the array at position 0,
        leaving the value 42 on the top of the value stack-->
&lt;address>&lt;/address>

    </pre>

    <h3 id="writing-arrays"><a href="#writing-arrays">Writing An Array Value</a></h3>
    <p>
        You can write the value at an index in an array <code>&lt;ins></code>tag.  This command will
        consume the top value of the value stack as the value to insert, the second value from the
        top of the stack as index to write the value into and the third value from the top of the
        stack as the array to set the value into.
    </p>
    <p>
        Note that this tag can also be used to reflectively set properties, by putting a string on the
        top of the stack rather than an integer.
    </p>
    <pre>
&lt;!-- this pushes the array [42, 33] onto the stack -->
&lt;ol>
    &lt;li>
        &lt;data value="42">&lt;/data>
    &lt;/li>
    &lt;li>
        &lt;data value="33">&lt;/data>
    &lt;/li>
&lt;/ol>
&lt;!-- push the value 0 onto the stack -->
&lt;data value="0">&lt;/data>
&lt;!-- push the value 22 onto the stack -->
&lt;data value="22">&lt;/data>
&lt;!-- consumes the 22, 0 and the array, indexes into the array at position 0,
        and sets it to the value 22-->
&lt;address>&lt;/address>
    </pre>

</section>

<section>
    <h2 id="functions"><a href="#functions">Functions</a></h2>
    <p>
        HTML, the programming language, supports the declaration and invocation of functions.
    </p>

    <h3 id="defining-functions"><a href="#defining-functions">Defining Functions</a></h3>
    <p>
        You can define functions using the <code>&lt;dfn></code> tag.  The name of the function will be
        taken from the <code>id</code> property of the <code>&lt;dfn></code> tag.  The body of the function are the
        commands/tags within the <code>&lt;dfn></code> tag.
    </p>
    <p>
        Arguments passed to the function will be pushed onto the value stack.  So, if a function is invoked
        with the values (1, 2, 3), the initial value stack will be 3 on top, then 2, then 1.
    </p>
    <p>
        It is common for HTML, the programming language, programmers to save the arguments to a function int variables
        using the <code>&lt;var></code> command at the beginning of complex functions, in order to make it easier to
        refer to them.  (Note that this must be done in reverse order to the order that the parameters are received.)
    </p>
    <p>
        The return value of a function defined in HTML, the programming language, is the top value
        left on the value stack at the end of the function's execution.  There is no need to explicitly return this value
        with syntax.
    </p>
    <p>
        Note that you can terminate a functions execution early by using the <a href="#return"><code>&lt;rt></code></a> command.
    </p>
    <pre>
&lt;!-- this defines a simple function that squares the argument -->
&lt;def id="square">
    &lt;!-- duplicate the argument to the function, implicitly on the top of the stack -->
    &lt;dt>&lt;/dt>
    &lt;!-- multiply it and return (leaving it on the top of the stack -->
    &lt;ul>&lt;/ul>
&lt;/def>
    </pre>

    <h3 id="invoking-functions"><a href="#invoking-functions">Invoking Functions</a></h3>
    <p>
        To invoke functions, HTML, the programming language, reuses the <code>&lt;a></code> tag.
        If the <code>&lt;a></code>'s <code>href</code> attribute begins with <code>javascript:</code>,
        it will invoke a function rather than jump to an element.
    </p>
    <p>
        The function that will be invoked is resolved by the name after the <code>javascript:</code>, but
        before the first open-parenthesis, <code>(</code>.  Note that arguments to the function defined
        in the <code>href</code> attribute are ignored.
    </p>
    <p>
        Instead, arguments are passed by executing <em>child</em> elements within the <code>&lt;a></code>
        tag.  All elements within the <code>&lt;a></code> tag will be executed and then the <em>new</em> values
        that are pushed onto the value stack by the children will be removed from the stack and used as the arguments to the
        function.
    </p>
    <p>
        When a function is invoked, it's return value (if any), will be pushed onto the stack.
    </p>
    <pre>
&lt;!-- invoke the square() function defined above, with the argument 12 -->
&lt;a href="javascript:square()">
  &lt;data value="12">&lt;/data>
&lt;/a>
&lt;!-- output the result (144) -->
&lt;output>&lt;/output>
    </pre>
    <h4 id="invoking-functions-objects"><a href="#invoking-functions-objects">Invoking Functions On Objects</a></h4>
    <p>
        If you wish to invoke a function on an object (rather than on the global <code>window</code> object), you
        can set the <code>target</code> attribute of the anchor tag to <code>_top</code>.  This will make it consume
        the top of the value stack and invoke the method on that object.
    </p>
    <pre>
&lt;!-- load the document -->
&lt;cite>document&lt;cite>
&lt;!-- load all elements with the class .highlighted onto the stack
        by invoking the querySelectorAll() method on the docuemtn-->
&lt;a href="javascript:querySelectorAll()"
      target="_top">
  &lt;s>.highlighted&lt;/s>
&lt;/a>
&lt;!-- output the result -->
&lt;output>&lt;/output>
    </pre>

</section>

<section>
    <h2 id="js"><a href="#js">JavaScript Integration</a></h2>
    <p>
        HTML, the programming language, integrates cleanly with JavaScript. You can invoke JavaScript
        functions just like normal functions, and JavaScript functions can invoke HTML, The Programming
        Language as well.
    </p>
    <p>
        JavaScript developers should be able to get comfortable with HTML, the programming language,
        very quickly.
    </p>
    <p>
        You can also execute HTML, the programming language, "scriptlets" as strings in JavaScript,
        using the <code>html.exec()</code> utility function.
    </p>
</section>

<section>
    <h2 id="config"><a href="#config">Configuring/Extending</a></h2>
    <p>
        You can configure the standard out and standard error of HTML, The Programming Langauge bu
        setting the <code>html.meta.out</code> and <code>html.meta.err</code> values to functions
        of your design.
    </p>

    <h3 id="extending"><a href="#extending">Extending</a></h3>
    <p>
        HTML, the programming language, can be extended or modified by adding or modifying the entries
        found in <code>html.meta.commands</code>, which map a tag name to a function that takes an element
        and context, and implements some sort of behavior.
    </p>
    <p>
        As an example, if we wanted to make the <code>&lt;pre></code> tag print the entire value stack
        we could write something like this in JavaScript:
    </p>
    <pre>
html.meta.commands["pre"] = function(elt, env) {
    console.log(env.stack);
}
    </pre>
    <p>
        With this definition you could then write the following code:
    </p>
    <pre>
&lt;data value="1">&lt;/data>
&lt;data value="2">&lt;/data>
&lt;data value="3">&lt;/data>
&lt;!-- will print the stack [1, 2, 3] to console.out -->
&lt;pre>&lt;/pre>
    </pre>
    <p>
        You can also implement arbitrary control flow by returning the next element in the DOM to execute
        from this function.
    </p>
</section>

<section>
    <h2 id="debugging"><a href="#debugging">Debugging</a></h2>
    <p>
        HTML, the programming language, includes an integrated debugger, HDB, the HTML Debugger, to assist in debugging
        HTML programs. To access the debugger, insert a function callback into the <code>html.meta.debugger</code> field.
    </p>
    <pre>
html.meta.debug = function(hdb, elt, env, cmd)
{
    // you can set a JavaScript breakpoint here
    hdb.break();
}
    </pre>
    <p>
        You can then add a breakpoint to an HTML element by adding the <code>data-hdb-breakpoint</code> attribute to it.
        This will cause the runtime to invoke the HDB debugger <em>before</em> the element is executed.
    </p>
    <p>
        The callback can have up to four parameters:
    </p>
    <ul>
        <li><code>hdb</code> - The debugger</li>
        <li><code>elt</code> - The element to be executed</li>
        <li><code>env</code> - The current environment (including vars and the value stack)</li>
        <li><code>cmd</code> - The implementation of the command</li>
    </ul>
    <p>
        By setting a JavaScript breakpoint in the callback, you can inspect the current environment and command.  You
        can also invoke one of the following methods on the <code>hdb</code> object:
    </p>
    <ul>
        <li><code>step()</code> - Execute the current instruction and stop before the next one.</li>
        <li><code>continue()</code> - Stop debugging and continue until the next breakpoint (or the program finishes)</li>
        <li><code>jumpTo(elt)</code> - Don't execute the current element, instead jump to the given HTML element</li>
    </ul>
</section>

<section>
    <h2 id="faq"><a href="#faq">Frequently Asked Questions</a></h2>
    <ul>
        <li>
            <i>
                I have found a bug in HTML, the programming language.  What should I do?
            </i>
            <p>
                HTML, the programming language, is correct, by definition.  The bug therefore is not in the programming
                language, but rather it is in you.
            </p>
        </li>
        <li>
            <i>
                Is there a specification for HTML, the programming language?
            </i>
            <p>
                <a href="html.js">Yes.</a>
            </p>
        </li>
        <li>
            <i>
                Is HTML a programming language?
            </i>
            <p>
                As the name of HTML, the programming language, would suggest, yes, HTML is a programming language.
            </p>
        </li>
        <li>
            <i>
                Is HTML turing complete?
            </i>
            <p>
                <a href="#turning-complete">Yes.</a>
            </p>
        </li>
        <li>
            <i>
                Is there a shirt?
            </i>
            <p>
                <a href="https://htmx-shop.fourthwall.com/products/html-pl-btw-shirt">Yes.</a>
            </p>
        </li>
        <li>
            <i>
                Why?
            </i>
            <p>
                <a href="https://en.wikipedia.org/wiki/Play_drive">Spieltrieb</a>
            </p>
        </li>
        <li>
            <i>
                No.
            </i>
            <p>
                idc
            </p>
        </li>
    </ul>
</section>

<section>
    <h2 id="example"><a href="#example">Example</a></h2>
    <p>
        While the programming language documentation is the primary resource for understanding any programming
        language, it is also often good to see a complete, real-world example of code in the programming language
        in order to help "tie things together", if you will.
    </p>
    <p>
        In the spirit of this observation, here is a function written in HTML, the programming language, that computes the
        <a href="https://en.wikipedia.org/wiki/Fibonacci_sequence">Nth fibonnacci number</a>:
    </p>
    <pre>
&lt;dfn id="fib">
    &lt;var title="num">&lt;/var>            &lt;!-- save the arg in a variable num -->

    &lt;cite>num&lt;/cite>                   &lt;!-- load num -->
    &lt;data value="1">&lt;/data>            &lt;!-- push 1 -->
    &lt;small>&lt;/small>                    &lt;!-- test if the arg is smaller -->
    &lt;i>                                &lt;!-- if it is -->
        &lt;data value="0">&lt;/data>        &lt;!-- push 0 -->
        &lt;rt>&lt;/rt>                      &lt;!-- return -->
    &lt;/i>

    &lt;cite>num&lt;/cite>                   &lt;!-- load num -->
    &lt;data value="1">&lt;/data>            &lt;!-- push 1 -->
    &lt;em>&lt;/em>                          &lt;!-- test if equal -->
    &lt;i>                                &lt;!-- if it is -->
        &lt;data value="1">&lt;/data>        &lt;!-- push 1 -->
        &lt;rt>&lt;/rt>                      &lt;!-- return -->
    &lt;/i>

    &lt;cite>num&lt;/cite>                   &lt;!-- load num -->
    &lt;data value="2">&lt;/data>            &lt;!-- push 2 -->
    &lt;em>&lt;/em>                          &lt;!-- test if equal -->
    &lt;i>                                &lt;!-- if it is -->
        &lt;data value="1">&lt;/data>        &lt;!-- push 1 -->
        &lt;rt>&lt;/rt>                      &lt;!-- return -->
    &lt;/i>

    &lt;a href="javascript:fib()">        &lt;!-- recursively invoke fib() on arg - 1 -->
        &lt;cite>num&lt;/cite>
        &lt;data value="1">&lt;/data>
        &lt;sub>&lt;/sub>
    &lt;/a>

    &lt;a href="javascript:fib()">        &lt;!-- recursively invoke fib() on arg - 2 -->
        &lt;cite>num&lt;/cite>
        &lt;data value="2">&lt;/data>
        &lt;sub>&lt;/sub>
    &lt;/a>

    &lt;dd>&lt;/dd>                           &lt;!-- add the results and return -->
&lt;/dfn>
    </pre>

    <h3 id="live-demo"><a href="#live-demo">Live Demo</a></h3>

    <p>
        Here is a live demo of the fib() function defined above:
    </p>
    <button onclick="runFib()">
        Calculate A Fibonnacci Number
    </button>

    <p>
        And here is the actual definition in a <code>&lt;main></code> (along with a helper, <code>runFib()</code> that
        asks the user for input).  You can inspect this element to see the details.
    </p>
    <main>
        <dfn id="runFib">
            <input placeholder="Please enter a number to calculate fib(n) for" type="number" data-hdb-breakpoint/>
            <var title="userValue"></var>

            <cite>userValue</cite>
            <bdi></bdi>
            <i>
                <a href="javascript:alert()">
                    <s>Please enter a number between 0 and 20</s>
                </a>
                <rt></rt>
            </i>

            <cite>userValue</cite>
            <data value="20"></data>
            <big></big>
            <i>
                <a href="javascript:alert()">
                    <s>We recommend entering a number less than 20 to avoid a delay</s>
                </a>
                <rt></rt>
            </i>

            <cite>userValue</cite>
            <data value="1"></data>
            <small></small>
            <i>
                <a href="javascript:alert()">
                    <s>Please enter a number greater than 0</s>
                </a>
                <rt></rt>
            </i>

            <a href="javascript:fib()">
                <cite>userValue</cite>
            </a>
            <var title="result"></var>

            <a href="javascript:alert()">
                <s>The </s>
                <cite>userValue</cite>
                <s>th fibbonacci number is </s>
                <cite>result</cite>
                <dd></dd>
                <dd></dd>
                <dd></dd>
            </a>
        </dfn>

        <dfn id="fib">
            <var title="num"></var>            <!-- save the arg in a variable num -->

            <cite>num</cite>                   <!-- load num -->
            <data value="1"></data>            <!-- push 1 -->
            <small></small>                    <!-- test if the arg is smaller -->
            <i>                                <!-- if it is -->
                <data value="0"></data>        <!-- push 0 -->
                <rt></rt>                      <!-- return -->
            </i>

            <cite>num</cite>                   <!-- load num -->
            <data value="1"></data>            <!-- push 1 -->
            <em></em>                          <!-- test if equal -->
            <i>                                <!-- if it is -->
                <data value="1"></data>        <!-- push 1 -->
                <rt></rt>                      <!-- return -->
            </i>

            <cite>num</cite>                   <!-- load num -->
            <data value="2"></data>            <!-- push 2 -->
            <em></em>                          <!-- test if equal -->
            <i>                                <!-- if it is -->
                <data value="1"></data>        <!-- push 1 -->
                <rt></rt>                      <!-- return -->
            </i>

            <a href="javascript:fib()">            <!-- invoke fib() on arg - 1 -->
                <cite>num</cite>
                <data value="1"></data>
                <sub></sub>
            </a>

            <a href="javascript:fib()">            <!-- invoke fib() on arg - 2 -->
                <cite>num</cite>
                <data value="2"></data>
                <sub></sub>
            </a>

            <dd></dd>                         <!-- add the returned numbers and return -->
        </dfn>
    </main>


</section>
<footer>
    <i>Footnotes:</i>
    <ol>
        <li id="turning-complete">This was revealed to me in a dream.</li>
    </ol>

    <center>
        HTML: the programming language is brought to you by <a href="https://bigsky.software">big sky software</a>
    </center>
</footer>
</body>
</html>
